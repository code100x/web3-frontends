{
  "name": "nft-card",
  "dependencies": [],
  "files": [
    {
      "name": "nft-card.tsx",
      "content": "import { useEffect, useState } from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\n//  variants for the NFT card\nconst nftCardVariants = cva(\n  \"inline-flex flex-col border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default: \"border-gray-200 bg-white text-black\",\n        dark: \"border-gray-700 bg-gray-900 text-grey-100\",\n      },\n      size: {\n        default: \"w-full\",\n        xs: \"w-24 rounded-lg\",\n        sm: \"w-40 rounded-lg\",\n        lg: \"w-60 rounded-xl\",\n        xl: \"w-80 rounded-xl\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst imgCardVariants = cva(\"rounded-t-lg select-none\", {\n  variants: {\n    imgRatio: {\n      default: \"aspect-auto\",\n      square: \"aspect-square w-full h-full object-cover\",\n      video: \"aspect-video w-full h-full object-cover\",\n    },\n  },\n  defaultVariants: {\n    imgRatio: \"default\",\n  },\n})\n\nconst hideTextVariants = cva(\"truncate block\", {\n  variants: {\n    nftName: {\n      default: \"px-4\",\n      hidden: \"hidden\",\n    },\n    collectionName: {\n      default: \"px-4\",\n      hidden: \"hidden\",\n    },\n  },\n  defaultVariants: {\n    nftName: \"default\",\n    collectionName: \"default\",\n  },\n})\n\ninterface NftCardProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof imgCardVariants>,\n    VariantProps<typeof hideTextVariants>,\n    VariantProps<typeof nftCardVariants> {\n  mintAddress: string\n}\n\nconst NftCard = ({\n  className,\n  variant,\n  size,\n  imgRatio,\n  nftName,\n  collectionName,\n  mintAddress,\n  ...props\n}: NftCardProps) => {\n  const [nftData, setNftData] = useState<any>(null)\n\n  useEffect(() => {\n    const fetchNftData = async () => {\n      const cacheKey = `nftData-${mintAddress}`\n      const cachedData = sessionStorage.getItem(cacheKey)\n\n      if (cachedData) {\n        setNftData(JSON.parse(cachedData))\n      } else {\n        const response = await fetch(\n          `https://solanaapi.nftscan.com/api/sol/assets/${mintAddress}?show_attribute=true`,\n          {\n            method: \"GET\",\n            headers: {\n              Accept: \"*/*\",\n              \"X-API-KEY\": process.env.NEXT_PUBLIC_NFTSCAN_KEY!,\n            },\n          }\n        )\n        const jsonData = await response.json()\n        if (jsonData.code === 200) {\n          const parsedData = JSON.parse(jsonData.data.metadata_json)\n          sessionStorage.setItem(cacheKey, JSON.stringify(parsedData))\n          setNftData(parsedData)\n        }\n      }\n    }\n\n    fetchNftData()\n  }, [mintAddress])\n\n  return (\n    <div\n      className={cn(nftCardVariants({ variant, size }), className)}\n      {...props}\n    >\n      {nftData ? (\n        <>\n          <img\n            src={`https://images.hsingh.site/?url=${nftData.image}&output=webp&width=400&q=80w=418&h=418`}\n            alt={nftData.name}\n            className={cn(imgCardVariants({ imgRatio }), \"\")}\n          />\n          <div className=\"border-gray-200 bg-white   dark:border-gray-700 dark:bg-gray-900\">\n            <p\n              className={cn(\n                hideTextVariants({ collectionName }),\n                \"text-sm mt-2 mb-1\"\n              )}\n            >\n              {nftData.properties.collection.name}\n            </p>\n            <h3\n              className={cn(\n                hideTextVariants({ nftName }),\n                \"text-lg font-bold mt-1 mb-2\"\n              )}\n            >\n              {nftData.name}\n            </h3>\n          </div>\n        </>\n      ) : (\n        <div\n          className={cn(nftCardVariants({ variant, size }), \"animate-pulse\")}\n        >\n          <div\n            className={cn(\n              imgCardVariants({ imgRatio }),\n              \"w-full bg-gray-300 rounded-t-lg\"\n            )}\n          />\n          <div className=\"\">\n            <div\n              className={cn(\n                hideTextVariants({ collectionName }),\n                \"mx-4 h-3 bg-gray-300 rounded mt-2 mb-2\"\n              )}\n            />\n            <div\n              className={cn(\n                hideTextVariants({ nftName }),\n                \"mx-4 w-3/4 h-4 bg-gray-300 rounded mt-2 mb-2\"\n              )}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\nNftCard.displayName = \"NftCard\"\nexport { NftCard, nftCardVariants, imgCardVariants, hideTextVariants }\n"
    }
  ],
  "type": "components:ui"
}