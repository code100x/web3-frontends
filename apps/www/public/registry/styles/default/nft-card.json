{
  "name": "nft-card",
  "dependencies": [
    "@metaplex-foundation/mpl-token-metadata",
    "@metaplex-foundation/umi-bundle-defaults",
    "@metaplex-foundation/umi-public-keys"
  ],
  "files": [
    {
      "name": "nft-card.tsx",
      "content": "import { useEffect, useState } from \"react\"\nimport {\n  fetchDigitalAsset,\n  mplTokenMetadata,\n} from \"@metaplex-foundation/mpl-token-metadata\"\nimport { createUmi } from \"@metaplex-foundation/umi-bundle-defaults\"\nimport { publicKey } from \"@metaplex-foundation/umi-public-keys\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\n//  variants for the NFT card\nconst nftCardVariants = cva(\n  \"inline-flex flex-col rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default: \"border-gray-200 bg-white text-black\",\n        dark: \"border-gray-700 bg-gray-800 text-white\",\n      },\n      size: {\n        default: \"w-40\",\n        xs: \"w-20\",\n        sm: \"w-28\",\n        lg: \"w-60\",\n        xl: \"w-80\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst imgCardVariants = cva(\"rounded-t-lg select-none\", {\n  variants: {\n    imgRatio: {\n      default: \"aspect-auto\",\n      square: \"aspect-square w-full h-full object-cover\",\n      video: \"aspect-video w-full h-full object-cover\",\n    },\n  },\n  defaultVariants: {\n    imgRatio: \"default\",\n  },\n})\n\nconst hideTextVariants = cva(\"truncate\", {\n  variants: {\n    nftName: {\n      default: \"block px-4\",\n      hidden: \"hidden\",\n    },\n    collectionName: {\n      default: \"block px-4\",\n      hidden: \"hidden\",\n    },\n  },\n  defaultVariants: {\n    nftName: \"default\",\n    collectionName: \"default\",\n  },\n})\n\ninterface NftCardProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof nftCardVariants> {\n  mintAddress: string\n}\n\nconst NftCard = ({\n  className,\n  variant,\n  size,\n  imgRatio,\n  nftName,\n  collectionName,\n  mintAddress,\n  ...props\n}: NftCardProps) => {\n  const [nftData, setNftData] = useState<any>(null)\n\n  const umi = createUmi(process.env.NEXT_PUBLIC_QUICKNODE!).use(\n    mplTokenMetadata()\n  )\n\n  useEffect(() => {\n    const fetchNftData = async () => {\n      const nftData = await fetchDigitalAsset(umi, publicKey(mintAddress))\n      const uriData = await fetch(\n        \"https://madlads.s3.us-west-2.amazonaws.com/json/1976.json\",\n        {\n          method: \"GET\",\n          headers: {\n            Accept: \"*/*\",\n          },\n        }\n      )\n      const jsonUriData = await uriData.json()\n      setNftData({\n        nft: nftData,\n        uriData: jsonUriData,\n      })\n    }\n    fetchNftData()\n  }, [])\n\n  console.log(nftData)\n  return (\n    <div\n      className={cn(nftCardVariants({ variant, size }), className)}\n      {...props}\n    >\n      {nftData ? (\n        <>\n          <img\n            src={nftData.uriData.image}\n            alt={nftData.uriData.name}\n            className={cn(imgCardVariants({ imgRatio }))}\n          />\n          <div className=\"\">\n            <p className={cn(hideTextVariants({ collectionName }), \"text-sm\")}>\n              {nftData.uriData.properties.collection.name}\n            </p>\n            <h3\n              className={cn(hideTextVariants({ nftName }), \"text-lg font-bold\")}\n            >\n              {nftData.uriData.name}\n            </h3>\n          </div>\n        </>\n      ) : (\n        <p>Loading...</p>\n      )}\n    </div>\n  )\n}\nNftCard.displayName = \"NftCard\"\nexport { NftCard, nftCardVariants, imgCardVariants, hideTextVariants }\n"
    }
  ],
  "type": "components:ui"
}